```{r knitr_setup, include = FALSE}
frf <- function(...)
    rprojroot::find_root_file(..., criterion = ".editorconfig", path = ".")

knitr::opts_chunk$set(
    cache.path = frf("cache", knitr::opts_knit$get('rmarkdown.pandoc.to'), "/")
)
```

```{r package_bibliography, include = FALSE}
knitr::write_bib(
    c(
        "base",
        "gtsummary"
    ),
    file = frf("bibliography", "rpackages.bib")
)
```

```{r libraries, include = FALSE}
library("gtsummary")
```

```{r import, include = FALSE}
acg <- read.csv(frf("data", "acg.csv"))
```

```{r prepare, include = FALSE}
sevodensity <- 1.55

acg$Start <- as.POSIXct(acg$Start)
acg$End <- as.POSIXct(acg$End)

acg$WeightGain <- acg$FinalWeight - acg$InitialWeight
acg$TotalUsedWeightSev <- acg$TotalUsedVolumeSev * sevodensity
acg$TotalUptakeWeightSev <- acg$TotalUptakeVolumeSev * sevodensity
acg$UsedVolumePerHourSev <- acg$TotalUsedVolumeSev / (acg$TotalDurationCasesSev / 60)
acg$UsedWeightPerHourSev <- acg$TotalUsedWeightSev / (acg$TotalDurationCasesSev / 60)
acg$MaxRecaptureRate <- acg$WeightGain / acg$TotalUsedWeightSev * 100

acg$AvgDurationSev <- acg$TotalDurationCasesSev / acg$TotalCasesSev
```
